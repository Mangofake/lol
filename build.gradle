plugins {
	id 'fabric-loom' version '1.9.2'
	id 'maven-publish'
}

group = 'net.mango.tunieland'
version = '1.0.0'

repositories {
	mavenCentral()
	maven { url = 'https://maven.fabricmc.net/' }                 // Minecraft/Fabric
	maven { url = 'https://dl.cloudsmith.io/public/geckolib3/geckolib/maven/' } // Geckolib
	maven { url = 'https://maven.willbl.dev/releases/' }          // For com.eliotlash.mclib:mclib:20
}

dependencies {
	minecraft     'com.mojang:minecraft:1.20.1'
	mappings       'net.fabricmc:yarn:1.20.1+build.10:v2'

	modImplementation 'net.fabricmc.fabric-loader:0.14.22'
	modImplementation 'net.fabricmc.fabric-api:fabric-api:0.87.0+1.20.1'
	modImplementation 'net.fabricmc.fabric-api:fabric-item-group-api-v1:0.87.0+1.20.1'
	modImplementation 'net.fabricmc.fabric-api:fabric-entity-attribute-api-v1:0.87.0+1.20.1'
	modImplementation 'software.bernie.geckolib:geckolib-fabric-1.20.1:4.2.2'
}

java {
	sourceCompatibility = JavaVersion.VERSION_21
	targetCompatibility = JavaVersion.VERSION_21
	withSourcesJar()
}

tasks.withType(JavaCompile).configureEach {
	it.options.release = 21
}

processResources {
	inputs.property 'version', project.version
	filesMatching('fabric.mod.json') {
		expand version: project.version
	}
}
